{% extends 'base.html' %}
{% block title %}Trang chủ{% endblock %}
{% block content %}
<div class="row g-3">
  <aside class="col-lg-3">
    <div class="card">
      <div class="card-header fw-bold">Danh mục</div>
      <ul class="list-group list-group-flush">
        <li class="list-group-item {% if not current_category %}active{% endif %}"><a class="text-decoration-none d-block {% if not current_category %}text-white{% endif %}" href="/">Tất cả</a></li>
        {% for cat in categories %}
          <li class="list-group-item {% if current_category == cat.slug %}active{% endif %}">
            <a class="text-decoration-none d-block {% if current_category == cat.slug %}text-white{% endif %}" href="/?cat={{ cat.slug }}">{{ cat.name }}</a>
          </li>
        {% empty %}
          <li class="list-group-item">Chưa có danh mục</li>
        {% endfor %}
      </ul>
    </div>
  </aside>
  <section class="col-lg-9">
    <div class="row row-cols-2 row-cols-md-3 row-cols-lg-4 g-3">
      {% for p in products %}
        <div class="col">
          <div class="card h-100 product-card">
            <div class="ratio ratio-1x1 bg-light">
              {% if p.image_url %}
                <img src="{{ p.image_url }}" alt="{{ p.name }}" class="object-fit-cover">
              {% else %}
                <div class="d-flex align-items-center justify-content-center text-muted">No image</div>
              {% endif %}
            </div>
            <div class="card-body">
              <div class="product-title" title="{{ p.name }}">{{ p.name }}</div>
              <div class="text-danger fw-bold">{{ p.price }} đ</div>
            </div>
          </div>
        </div>
      {% empty %}
        <div class="col-12"><div class="alert alert-info">Chưa có sản phẩm nào. Vào Admin để thêm sản phẩm.</div></div>
      {% endfor %}
    </div>
  </section>
</div>
{% endblock %}
